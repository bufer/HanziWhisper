# 识字释文 HanziWhisper

一款Tampermonkey油猴插件，按住Alt键选中汉字即可显示拼音、笔画、部首和释义。

## 功能特性

- **快捷查询**：按住Alt键选中汉字，立即显示详细信息
- **丰富信息**：显示拼音、笔画数、部首、释义、繁体字
- **个性化配置**：支持自定义快捷键、显示选项
- **样式隔离**：使用Shadow DOM防止与页面样式冲突
- **全站适配**：适用于所有中文网站

## 安装方法

1. 安装 [Tampermonkey](https://www.tampermonkey.net/) 浏览器扩展
2. 点击 [hanziwhisper.user.js](hanziwhisper.user.js) 文件
3. 在Tampermonkey中点击"安装此脚本"

## 使用说明

### 基本使用

1. 在任意中文网页上
2. 按住 **Alt键**
3. 用鼠标选中汉字
4. 松开鼠标，弹出窗口显示汉字信息

### 配置选项

点击Tampermonkey图标 → 识字释文 → 配置选项，可设置：

- **快捷键**：默认Alt键，可修改为Ctrl、Shift等
- **显示选项**：
  - 显示拼音
  - 显示笔画数
  - 显示部首
  - 显示释义
  - 显示繁体字
- **弹窗样式**：
  - 弹窗宽度
  - 字体大小

### 菜单命令

- **配置选项**：打开配置面板
- **启用/禁用**：切换插件状态

## 技术实现

### 依赖库

- [cnchar](https://github.com/theajack/cnchar) - 中文汉字处理库
  - 拼音转换
  - 笔画数计算
  - 部首查询
  - 释义查询
  - 简繁转换

### 核心模块

1. **配置管理模块**：使用GM_setValue/GM_getValue存储用户配置
2. **快捷键检测模块**：监听键盘事件检测快捷键状态
3. **中文识别模块**：使用正则表达式识别中文字符
4. **数据获取模块**：调用cnchar库获取汉字信息
5. **弹窗显示模块**：使用Shadow DOM创建隔离的弹窗
6. **样式管理模块**：管理弹窗样式，防止样式冲突

### 性能优化

- **防抖处理**：避免频繁触发查询
- **缓存机制**：缓存已查询的汉字信息
- **懒加载**：按需加载cnchar库功能

## 项目结构

```
HanziWhisper/
├── hanziwhisper.user.js    # 主用户脚本文件
├── README.md               # 项目说明文档
├── plans/
│   └── design.md           # 详细设计文档
├── src/
│   ├── config/             # 配置相关模块
│   ├── core/               # 核心功能模块
│   └── utils/              # 工具函数
└── styles/                 # 样式文件
```

## 开发计划

### MVP (v0.1.0) - 当前版本

- [x] 基础功能实现
- [x] 快捷键检测
- [x] 中文识别
- [x] 数据获取
- [x] 弹窗显示
- [x] 配置存储

### v0.2.0 计划

- [ ] 可视化配置页面
- [ ] 多字查询支持
- [ ] 历史记录功能
- [ ] 导出功能

### v0.3.0 计划

- [ ] 词典扩展
- [ ] 成语查询
- [ ] 诗词查询
- [ ] 语音朗读

## 浏览器兼容性

- Chrome/Edge (推荐)
- Firefox
- Safari
- Opera

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request！

## 联系方式

- GitHub: [HanziWhisper](https://github.com/yourusername/HanziWhisper)
- Email: your.email@example.com

## 更新日志

### v0.1.0 (2026-02-05)

- 初始版本发布
- 实现基础汉字查询功能
- 支持拼音、笔画、部首、释义显示
- 支持自定义配置
